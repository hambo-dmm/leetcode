import pytest

from solution import Solution
from ListNode import ListNode

instance = Solution()

test_cases = [
    ([3, 2, 0, -4], 1, True),   # Test Case 1
    ([1, 2], 0, True),          # Test Case 2
    ([1], -1, False),           # Test Case 3
    ([], -1, False),            # Edge Case: Empty list
    ([7032, 15013, 6890, 8877, 11344, 320, 13037, 9414, 6817, 1566, 14907, -2756, 9931, -4488, 11602, 4887, 1239, 6231, -5366, 8501, 1142, -1367, -4140, -5460, 15554, -4686, 12603, 1471, 5378, 15246,
11273, 13817, 5814, 3846, 12556, 1024, 3348, 13880, 14906, 14002,
9863, 8177, -2043, 15882, 11985, 13339, 4277, -2059, 581, 2628,
5101, 6794, 4636, 9550, -6947, -5352, 1854, 3064, 5149, -5342,
-7716, 5203, 3842, 6401, 6644, 3565, 15758, -1451, 4993, 13767,
7789, 9944, 5132, -3127, -5734, 2149, 5437, 3967, 12988, -5397,
8306, -4744, -6542, 6952, 6653, -7588, -345, 7975, -1608, -4125,
-108, 5960, -56, 3410, 9927, -7835, -2576, -1390, 1154, 13654,
-6793, 14489, 14739, 15465, 12843, 14656, 9998, -4416, 10104, 4804,
1556, 9350, 5791, 8999, -4762, 12242, 13264, -7520, 10069, 4058,
-2512, 15701, 2663, -2845, 13834, -7731, 2176, 6491, 16008, 10067,
1898, 15861, 9934, 10788, 3358, 6423, -7036, 10398, -1460, 594,
-573, -3391, -3095, -3940, 9549, 13679, -3841, 9564, -4596, 10625,
8753, -4429, -4085, 1421, 7715, -3544, 6997, 5974, 6788, 7438,
7242, 2765, 10202, 13904, -2925, 11692, -2441, 3938, 14650, -2896,
-5260, 4662, 10609, 7075, -2022, 15907, 464, 2044, 14045, 12870,
-2546, -4893, 13733, 13590, 14697, -7190, 15540, 569, 10869, 15050,
-7747, 7707, -6871, 7459, 6402, 9260, -6298, 1793, 10826, 9959,
2771, -4703, 13906, 14181, -4960, -2680, -507, 7196, 15828, -4096,
14023, -3265, -4492, 12808, -258, 11700, -4667, 4321, 13382, -2940,
180, 14907, -424, -3093, 1215, 13189, 14936, 6161, -1730, 6783,
1775, 9164, -3637, -4981, 11420, -5504, 13435, -2134, 13739, 2382,
3423, 8390, -2107, 4178, 1808, -387, -4254, 667, -973, 7616,
-6542, 6263, 10049, -2974, -5952, 1479, 15631, 5470, 2588, 9579,
6108, 11561, 1425, -6071, 5259, 4881, 11130, 15191, 3066, 6021,
7378, -3866, 6955, 11761, -7086, 14383, -7788, 15588, -5370, -7198,
-3040, 1594, 8564, 5000, 11453, 10854, 1735, 15528, 13504, 4656,
10885, 10600, 3781, 11522, 12687, 9369, 259, 6835, 13900, 15690,
-4397, 6554, 583, 5555, 1544, -6104, 5930, 4865, -1092, 5856,
7881, 14355, 15362, 6095, 9197, 5905, -1736, -7548, 15965, 10400,
2607, -2405, 11548, 11811, 9387, 6688, 5716, 12586, -897, -7593,
8834, 14696, 668, 3667, 1063, -320, 11893, 9511, 15182, 9847,
886, 8508, -621, -7058, -6554, 7779, -3182, 3110, 14239, 7495,
3321, 3775, 10645, -6678, 358, 1314, 10553, 7128, 277, -1761,
-5881, -1190, 1912, 1987, 9058, 12597, -7272, 9278, 7344, -5102,
-7637, 8801, 12405, 10816, 14672, -1213, -1503, 15660, 14438, 80,
7149, -521, -1271, 15834, -1456, 4490, -588, 3291, -1050, -1355,
5505, 1894, -5996, 9716, 13403, 13135, -1149, 4619, -2892, -6492,
5752, -2252, -2381, 2737, -3156, 8401, 3737, -6200, -6317, 9853,
-5430, -2323, 14840, 98, -3075, 8473, -7191, 1668, -6515, 11492,
2692, 10903, 2177, 9093, 13891, 4648, 5719, 6209, -387, 6609,
3886, 12638, -6936, 12750, 3462, 14947, -1779, 6423, -4305, -1096,
-6136, 10748, 3097, 3123, -4575, 14325, 5639, 2898, 6758, -1609,
-7131, 15483, 8956, 4284, 3, -4744, 15047, -6248, 14096, 12473,
7661, 1676, 1011, -7016, -3620, -2627, 3463, 2012, 6899, 7050,
1087, 5070, -1869, 8032, -253, 11942, 1700, -943, 1336, 3647,
9608, 13003, 9566, 1544, 7851, -2480, -2597, -413, -1285, 15651,
9040, 7423, 2318, 8365, 762, 8463, -81, -1664, 11421, 9250,
-6386, 8673, 2172, 1700, -539, 5525, 2190, -5696, 8021, 6499,
2539, 1803, 15442, 3181, 7661, 9269, 1921, -1381, -6728, 1031,
-2056, -7001, 1911, 10050, 7552, 10873, 15603, -4489, 9096, 2946,
688, -4814, -6338, 5387, -3490, -4096, 13287, -733, 4524, 9540,
3119, -5535, 8398, 8905, 6603, 3182, 12521, 2590, 2351, 9181,
-7750, -7917, 8258, -7843, 2127, 2641, -5464, 9111, 14987, -4995,
-2476, 9175, 15247, 12566, -1091, 8199, -2632, -3310, 14244, -6736,
-3350, 12761, -5108, 7886, 612, -4078, 951, 9049, -5646, 13100,
5665, -1463, 15311, -1971, -4359, 7707, 6418, 12968, 9069, 8523,
4413, 4573, 5212, 7233, -3245, -2653, -979, -7419, -336, 8608,
-1137, 15442, 11097, -5408, 7207, 9126, 8702, 8043, 9261, 4939,
12841, -1369, 2433, 14381, 9192, 14239, 15544, 3077, -1056, -5565,
14900, 8747, 2970, 3187, 13304, 10173, 5048, 12127, 5276, 960,
12910, 4482, -7767, 15219, 4407, 4121, 12408, -3473, 15187, -4177,
1530, 1019, 706, 3592, -934, 8538, -7422, 9169, -4861, 2513,
72, -760, -7794, -4267, 14775, -5279, 9024, 248, 5187, 11962,
10602, 6297, 13704, 13940, -1076, 4684, -6916, 14347, -5737, -5480,
3085, 15171, -1009, 5425, 13310, 6540, -4022, -5110, -61, -1710,
-4470, -3722, 7192, 8016, -3485, -5251, -2986, 11626, -4847, 15782,
6560, -331, 1126, -3068, -1622, 12133, 12912, 7326, 7182, 10535,
-2671, 6605, 7126, 1569, -6421, 9763, -4028, -5209, -2777, -89,
9841, 932, -7642, 9941, 10136, 11877, -4705, 14881, -5262, 746,
314, 3268, -740, -5276, 14313, 11533, 10440, 15136, -404, -160,
7055, 4898, 4101, 9264, -453, 11885, 260, -979, 1989, 6581,
14864, 12119, 12382, 3182, 10638, 2382, 13449, 3430, 7888, 585,
3668, -4482, 12238, 14721, 9882, 6050, 15844, 14141, 10276, -2004,
-1259, -2040, -6303, -4876, 14586, 2476, -3168, 12976, -5487, -3733,
12957, 8010, 4150, -3217, -2175, 10450, 5321, -2138, 9021, -2084,
13804, 2610, 7353, -4415, -2644, -6334, 9884, 3488, -6132, -1737,
-7495, 13690, 9862, 13249, -5296, 6851, 12564, -1360, 13367, 10511,
9765, 7068, -6927, -5742, -4634, 8305, 9488, -1382, -2064, -7538,
2270, 3345, -570, 6147, 6992, 10523, 11145, 14804, -7392, 9237,
13358, 10956, 10976, -558, -1553, -1741, 1776, -1021, 13577, 1738,
11201, 8287, 5787, 13112, 1652, -6685, 4686, -5527, 269, -7415,
15212, -4788, -4206, 9635, 5944, -2111, -1651, 7219, -5379, -1787,
-111, -3976, -2082, 13781, 15693, -3582, 13998, 3228, -1691, 1549,
13248, 13317, -6191, -306, 3264, 14228, 15556, -4169, 15835, 4166,
15654, -459, 15856, 2882, 744, 10737, -6886, 2157, -6533, 6876,
9557, 6, -1424, 13425, 7789, 8489, 6616, 13522, 7693, 9833,
-4686, 13958, 13058, -2120, 5401, 1130, -3186, 4837, 13934, -153,
2557, 8475, 5581, 8669, 140, -2525, 14958, 13121, -3257, 15964,
-2906, -6801, 439, 13913, 14983, 13752, 9494, -2934, 13579, 12250,
2467, 2545, -7731, -827, 1740, -5330, -2858, 12118, -1308, 7314,
9926, -1665, 4206, -3576, 6302, -2935, 13448, 9132, 7872, -5083,
4658, 14386, 13397, 9635, 14507, -3907, 13037, 10043, -275, 4117,
-630, 8841, 15444, 5323, 11935, 837, 6727, 1830, -1862, 1971,
8320, 13540, 3904, 5268, -5332, 4802, 12602, 7774, 378, 777,
12062, 5200, 8012, 9710, 11469, 2483, -5497, 7395, 13882, 4489,
8486, 902, 862, -7270, 4350, 2961, -3558, 5989, -2158, -7997,
14438, 11439, 6638, 7966, 8961, -2067, 11610, -1087, 10169, 9746,
-7632, 6832, -6472, 8232, 3583, -1166, 4910, 6796, -7635, 10412,
10439, 9099, 11806, 7876, 6625, -2168, -4154, 10967, 15085, 15116,
11888, 1231, 12527, 12304, 13236, 10023, 13580, -4059, -3912, 5637,
-7307, 10097, 11994, 10847, -3605, -3210, -2337, -5893, 15855, 14648,
9747, 4373, -5510, 2254, 11024, 12316, 1287, 6406, 2073, 2571,
7901, 12785, -5051, -7371, -7582, 4715, -6947, 6633, 9139, 3325,
3055, -1694, 13390, 5301, -1482, 3099, 4826, 1122, 11974, 14061,
6270, 497, 2245, 15890, 13640, -6825, 6499, -6390, 11417, 11397,
5101, 4815, 1701, 10737, -3579, -6571, -710, -4464, -6762, 3238,
14067, 13104, -6190, 8484, -3565, 5009, 651, -4411, 5053, 3904,
-7055, -2564, 6080, -7809, 11694, 4877, 11356, 15939, 14846, -6528,
-1305, -1617, 10610, 3591, 14048, 2321, 11255, 15721, 752, 13368,
1028, 9357, -3187, 2532, 7419, 9856, 7496, 12633, 1481, 12262,
9155, 6317, 12382, 8956, 15786, 15931, 12451, -541, 4593, -1378,
818, 11775, 15676, -1452, 15086, 2635, 12860, 12925, 2020, 14014,
1671, 11330, 6687, 13231, -5033, -1170, -2685, -6128, 15223, -616,
9434, -847, 5230, 2040, 14199, -3716, -748, -7634, 758, -5776,
6070, -115, 6220, 12113, -1306, -3513, -6720, 10621, 3880, 4010,
3401, 12050, 7909, 15615, 4452, -5725, -736, 147, -7525, 5067,
-3569, 3450, -769, 281, 4480, 13913, 11434, 539, 4843, -1637,
-4633, 8904, 14456, -3222, 16, 10928, 1385, -264, 7895, -1889,
4131, 3542, 14778, 8694, -3435, -6125, -7890, 8259, 8511, -3954,
-2549, -2839, -222, 1978, 8879, 10483, -4367, 956, 15695, 10582,
-2538, 232, 5800, 12731, -1023, 1324, 11426, 11933, 12754, -4825,
11439, 1328, 3541, -6048, 11933, -1664, -6686, -6279, 3519, -5536,
14445, -2900, 11418, -1966, 471, -5116, -4255, 8997, 3584, 13584,
-3323, 15943, 6586, 138, -1384, 5191, 6725, -5692, -1710, 7046,
-3063, 6441, 2760, -4391, -917, 10698, 3731, 11400, 1557, -955,
-6260, -1118, 8124, 13361, 15117, -479, 5112, -2876, 1385, 5658,
11542, 7125, 15055, 970, 1288, 10367, 316, -6448, 15225, 12022,
12940, -6725, -5995, 2502, 11901, 8253, -855, 15078, 13740, 2781,
-1531, -6480, -82, 9351, -7563, 15476, 13692, 9183, 14092, 2176,
11718, 528, 9203, 3613, 5055, -2766, 6746, 13199, 14138, 10592,
6086, 6207, -5402, 14143, -1346, 15340, 14377, -3649, -3235, -2751,
6099, -2372, 1294, 86, 3147, 9643, -4833, -979, -2698, -638,
-5090, 9467, 6541, 716, 3302, 4900, 7323, -1954, -1915, 10104,
3833, -4432, 3562, 5180, 8683, 11696, 11606, 16043, 1998, -5439,
-7194, 11714, 4581, 12659, 2295, -561, 10374, 15726, -182, 8774,
12370, 3979, -4379, -1507, 9304, 545, 6662, -6957, -5083, -2132,
4351, 10499, -6187, 12890, 5401, -853, 11153, 14725, 2040, 1031,
-7086, 11283, -1885, -7754, 13993, 15763, 6670, 4003, 7633, 1006,
7838, 10153, 14525, 5051, -7545, 9523, 12078, 365, -6502, 8310,
-3189, 9710, 8474, 6033, -4186, -3532, 6978, -261, -1900, 12296,
12405, -4740, 13857, 14023, 3958, 13005, -192, 5490, 15264, 3084,
-1081, 8449, 11014, -4538, -5331, 499, 421, 7092, -2385, 15186,
15795, 14411, 15200, 8871, 1347, 7554, -2187, -1656, -7869, 4578,
-2103, 9348, 12498, 11720, 4525, 13956, 14704, -5625, 3616, 10138,
-200, 13488, 14592, 2748, -2918, 3401, 11522, 12997, -1756, 15449,
3390, 10623, 11964, -851, -7511, 13245, -2803, -4257, 6441, 5454,
-3372, 523, -3301, 10434, 9456, 11205, -4333, -6519, 3089, 5477,
5426, -2330, -6035, 10079, -3918, 11979, 11789, 10596, 10792, 9750,
1684, -6986, 3985, 4690, 5395, 13556, 4985, 10071, 15508, -7285,
5834, 14601, 12985, -4170, -4661, -5130, 10594, 14774, 12505, 15981,
-7149, 13081, 9613, 10884, 121, -1546, 13037, 8887, 13814, 13223,
5553, -5327, -7005, -5116, 4306, -2462, 14840, -5095, -5012, -62,
13484, -7004, 10518, 9459, 12131, 3850, 13754, 10479, 8572, -7530,
9797, 4409, 1341, -3628, 2638, -4738, 11406, 1206, 8741, 5157,
4074, -8008, -3816, 10582, 2471, -7832, -361, -4595, 7314, -6678,
5363, 4233, -716, -6029, 14637, 10180, 15776, 5705, 15957, 3216,
-4083, 14140, 12464, 3980, 1404, -4971, 5220, 3159, -3734, 9632,
14620, 2943, 3509, 4844, 8474, 13332, -2211, 5803, 5968, 9947,
-4393, -225, -4371, 15148, 10604, 13629, -3390, 13959, 5341, 12117,
1661, 9665, -3103, 5118, 10462, 8052, 4458, -3006, -7811, 195,
7787, -252, 10781, 3535, 10797, -3621, 5454, -1551, 14570, 7137,
9169, -6532, -4285, 5855, 8909, -2158, 1384, -5877, -3040, 7717,
9474, -474, -4489, -6068, -7318, -2680, -630, -6443, 15584, -4686,
424, -2371, 10027, 1494, 11704, 13882, 11735, 8209, 3944, 8276,
-3348, -1929, 15682, 9993, 1367, 10456, 10015, -1342, 14262, -982,
-5708, 1231, 9623, -2771, -5300, 7017, -3099, 7058, 13448, 6832,
9642, -5050, 12977, 10754, -1571, 15967, 12353, 12983, 2995, 724,
3573, -484, 999, 2967, 12232, -138, 12102, -2757, 6511, -2991,
14856, 5355, -3651, 2795, 9322, 6147, -1236, -7655, 3752, 436,
2257, 11458, 1269, 7622, -5451, 11038, 13895, 1626, 5162, 14356,
11954, 9377, 10618, -4500, -7928, -7253, -132, 7149, 14200, -607,
-3663, -2886, 14418, 10457, 4742, 799, 2372, 13742, -972, 9270,
4137, -3672, 12992, -4357, -5487, 4065, 10781, 7381, 3762, 613,
3822, -4693, 11853, 7927, 5000, 12694, 4821, -2670, 6152, 13862,
3665, 1902, -4247, -7849, -4387, 13794, 7885, 13010, 14714, 7666,
-3292, 9382, -2870, 95, 10960, 9181, 14412, -7068, 5311, 5867,
-1098, 69, 2082, -5537, 7108, 7265, 14994, -760, 4406, 9099,
-473, 180, -3662, 11749, 10743, -6331, -1229, 12712, -6156, 7111,
-93, 15639, 5660, 13757, -7031, 15065, 6885, 10313, 11743, -3296,
13695, 14724, 4393, 14649, 2787, -3300, 12064, -1455, -5738, 5140,
11995, -4975, 1639, 4981, 7412, 8740, -5428, 14858, -7871, -436,
15760, 12090, 14223, -2934, -1231, 11041, -7886, 8831, -1446, 11651,
13122, 2817, 14590, 10909, 10601, -1574, -6414, 13703, 14725, 4001,
-5735, 13020, 15541, -6738, 6957, 13023, 8772, 4320, -2891, 14657,
-4437, 12533, -1156, -6948, -1958, 8155, 9228, 12422, 7764, 5249,
8669, 15042, 6708, 9990, -7840, 1343, 9626],-1, False)
]

@pytest.mark.parametrize("head_list, pos, expected_result", test_cases)
def test_has_cycle_parameterized(head_list, pos, expected_result):
    # arrange
    linked_list = ListNode.create_linked_list(head_list)
    ListNode.set_link_by_indices(linked_list, -1, pos)
    
    # act
    actual_result = instance.hasCycle(linked_list)
    
    # assert
    assert actual_result == expected_result